<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>WIT Food Desert Mapping</title>
</head>
<body>
    <div class="wrapper">
        <nav class="nav">
        <a href="home.html" class="logo">WIT</a>
        <div class="nav-menu" id="navMenu">
            <ul>
              <li><a href="home.html" class="link active">Home</a></li>
              <li><a href="about.html" class="link">About</a></li>
              <li><a href="feedback.html" class="link">Feedback</a></li>
              <li><a href="community.html" class="link">Community Update</a></li>
          </ul>
        </div>
        </nav>
      </div>
  
    <div class="section">
        <h1>Community Feedback Map</h1>
        <div class="wrapper-map">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3381289.4511953937!2d-120.42530060250073!3d34.145306475737144!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c325a785c9a649%3A0x7223c333f40c68d8!2sSouthern%20California%2C%20CA!5e0!3m2!1sen!2sus!4v1728280181169!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>

    <script>
        // Request location access
        if ("geolocation" in navigator) {
            navigator.geolocation.getCurrentPosition(function(position) {
                console.log("Latitude: " + position.coords.latitude);
                console.log("Longitude: " + position.coords.longitude);
                // Use these coordinates to place the user's pin on the map
            });
        } else {
            console.log("Geolocation is not available");
        }

        // Simulated feedback data
        const feedbackData = [
            { name: "John Doe", age: 30, gender: "Male", feedback: "Great community!", location: { lat: 40.7128, lng: -74.0060 }, image: "user1.jpg" },
            { name: "Jane Smith", age: 25, gender: "Female", feedback: "Need more parks", location: { lat: 34.0522, lng: -118.2437 }, image: "user2.jpg" }
        ];

        // Function to create pins on the map
        function createPins() {
            const map = document.getElementById("map");
            feedbackData.forEach(data => {
                const pin = document.createElement("div");
                pin.className = "pin";
                pin.style.position = "absolute";
                pin.style.left = `${data.location.lng + 180}px`;
                pin.style.top = `${-data.location.lat + 90}px`;

                const pinInfo = document.createElement("div");
                pinInfo.className = "pin-info";
                pinInfo.innerHTML = `
                    <strong>${data.name}</strong> (${data.age}, ${data.gender})<br>
                    "${data.feedback}"<br>
                    <img src="${data.image}" alt="User Image" style="max-width: 100px;">
                `;

                pin.appendChild(pinInfo);
                map.appendChild(pin);
            });
        }

        // Call the function to create pins
        createPins();
    </script>
</body>
</html>
